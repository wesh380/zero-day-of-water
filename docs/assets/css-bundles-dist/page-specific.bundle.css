/* --- experimental soft-hide on HOME only --- */
body[data-page="home"] [data-cta="amaayesh"],
body[data-page="home"] [data-cta="water-lab"] {
  display: none !important;
}

/* Secret portals (clickable but invisible) */
.easter-hotspot {
  position: fixed;
  width: 44px;
  height: 44px;
  top: 0;
  opacity: 0;
  z-index: 9999;
  pointer-events: auto;
}
.easter-top-left {
  left: 0;
}
.easter-top-right {
  right: 0;
}

/* Developer reveal */
html.dev-show-experimental body[data-page="home"] [data-cta] {
  display: initial !important;
}
/* Optional: when focused by keyboard during dev-reveal, show a faint outline */
html.dev-show-experimental .easter-hotspot:focus {
  outline: 2px dashed;
  outline-offset: 2px;
  opacity: .1;
}

:root {
  font-size: 16px;
}

button,
.btn {
  min-height: 48px;
  padding: .6rem 1.1rem;
  border-radius: 9999px;
  font-weight: 600;
}

.cta-calculators {
  display: flex;
  gap: .75rem;
  justify-content: center;
  flex-wrap: wrap;
  margin-block: 1rem;
}

.btn-primary {
  background: #0ea5e9;
  color: #fff;
}

.btn-outline {
  border: 1px solid rgba(0, 0, 0, .15);
  color: #0b2540;
  background: #fff;
}

.btn:focus-visible {
  outline: 2px solid #0ea5e9;
  outline-offset: 2px;
}

/* اختیاری: */
h1 {
  font-size: clamp(1.5rem, 1.2rem + 2vw, 2.25rem);
}

html[dir="rtl"] .icon-chevron-left,
html[dir="rtl"] .icon-arrow-left {
  transform: scaleX(-1);
}

/* Canonical landing stylesheet */
.hero {
  position: relative;
  display: grid;
  place-items: center;
  min-height: clamp(60vh, 70svh, 80svh);
  overflow: hidden;
}

.hero,
.hero * {
  position: relative;
  z-index: 0;
}

.hero-media {
  position: absolute;
  inset: 0;
  z-index: 0;
  display: block;
  width: 100%;
  height: 100%;
}

.hero-img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center 40%;
}

@media (max-width: 420px) {
  .hero-img {
    object-position: center 30%;
  }
}

.hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(to bottom, rgba(0, 0, 0, 0.45), rgba(0, 0, 0, 0.2) 40%, rgba(0, 0, 0, 0.35)),
    linear-gradient(to top, rgba(0, 0, 0, 0.35), transparent 60%);
  pointer-events: none;
  z-index: 0;
}

.hero .content {
  position: relative;
  z-index: 1;
  display: grid;
  place-items: center;
  text-align: center;
  color: #fff;
  padding: 0 1rem 8vh;
}

.hero-title {
  margin-top: 15vh;
  font-size: var(--font-h1);
  line-height: 1.25;
  text-shadow: 0 .125rem .375rem rgba(0, 0, 0, 0.35);
}

.hero .content p {
  margin-top: 0.75rem;
  font-size: var(--font-body);
  opacity: 0.95;
}

.cards-grid,
.cards-section {
  display: grid;
  gap: var(--space-5, 1.5rem);
  grid-template-columns: repeat(auto-fit, minmax(17.5rem, 1fr));
  align-items: stretch;
}

.cards {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 1rem;
}

@media (min-width: 768px) {
  .cards {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .cards {
    grid-template-columns: repeat(3, 1fr);
  }
}

.cards-section {
  max-width: 61.25rem;
  margin: -3.75rem auto 3rem;
  padding: 0 1rem;
}

.card {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 1rem;
  box-shadow: 0 .625rem 1.875rem rgba(0, 0, 0, 0.12);
  backdrop-filter: blur(.125rem);
  padding: 1.125rem 1.25rem;
  text-align: center;
  transform: translateY(2rem);
  opacity: 0;
  transition: transform 0.8s ease, opacity 0.8s ease;
  min-height: 12rem;
}

.card.visible {
  transform: translateY(0);
  opacity: 1;
}

@media (max-width: 48rem) {
  .hero {
    background-attachment: scroll;
    min-height: min(100svh, 85vh);
  }
  .hero-title {
    margin-top: 10vh;
    font-size: var(--font-h2);
    padding-inline: 1rem;
  }
}

@media (max-width: 40rem) {
  .cards-section {
    margin-top: -1.875rem;
  }
  .hero .content {
    padding: 0 1rem 6vh;
  }
}

@media (prefers-reduced-motion: reduce) {
  .card {
    transition: none;
    transform: none;
    opacity: 1;
  }
}

.cards-section h3 {
  font-size: var(--font-h3);
}

.cards-section .card-sub {
  margin-top: 0.75rem;
  font-size: var(--font-body);
  line-height: 1.7;
  color: #334155;
}

/* === Household Wizard (landing) === */
.wizard { max-width: 61.25rem; margin: 1.5rem auto .75rem; padding: 1rem; }
.wiz-head { text-align: center; color: #0f172a; }
.wiz-title { font-size: clamp(1.25rem, 2.4vw, 1.75rem); font-weight: 800; }
.wiz-sub { margin-top: .375rem; opacity: .9; }

.wiz-tabs { display:flex; flex-wrap:wrap; justify-content:center; gap:.5rem; margin:.875rem 0 .25rem; }
.wiz-tabs .tab {
  appearance: none; border: .0625rem solid #cbd5e1; background: #fff; color:#0f172a;
  padding: .5rem .75rem; border-radius: 62.4375rem; cursor: pointer; font-weight:600;
  white-space: normal; text-align:center; min-height:2.75rem;
  /* distribute on small screens */
  flex: 1 1 clamp(9rem, 45%, 14rem);
}
.wiz-tabs .tab[aria-selected="true"] { background: #0ea5e9; color:#04121f; border-color:#0ea5e9; }

@media (max-width:25.875rem){
  .wiz-tabs{ justify-content:center; }
}

.wiz-form { display:grid; gap:.75rem; grid-template-columns: 1fr 1fr; align-items:end; }
.wiz-form .field { display:flex; flex-direction:column; gap:.375rem; }
.wiz-form .row { display:flex; gap:.5rem; align-items:center; }
.wiz-form input, .wiz-form select {
  width:100%; height:2.75rem; border:.0625rem solid #cbd5e1; border-radius:.625rem; padding:0 .625rem; background:#fff;
}
.wiz-form .actions { grid-column: 1 / -1; display:flex; gap:.5rem; }
#household-wizard .btn { height:2.75rem; padding:0 .875rem; border-radius:.625rem; border:.0625rem solid #0ea5e9; cursor:pointer; }
#household-wizard .btn.primary { background:#0ea5e9; color:#04121f; }
#household-wizard .btn.ghost { background:#fff; color:#0f172a; border-color:#cbd5e1; }

.hint { grid-column: 1 / -1; color:#334155; font-size:.875rem; }
.wiz-results { margin-top: .75rem; }
.wiz-results .cards { display:grid; grid-template-columns: repeat(5, 1fr); gap:.625rem; }
.wiz-results .kpi { background:#fff; border:.0625rem solid #e2e8f0; border-radius:.75rem; padding:.625rem; text-align:center; }
.wiz-results .kpi .k { font-size:.75rem; color:#64748b; }
.wiz-results .kpi .v { font-size:1.125rem; font-weight:800; color:#0f172a; }

.chip {
  display: inline-block;
  padding: .25rem .5rem;
  border-radius: 624.9375rem;
  font-weight: 600;
  line-height: 1;
  border: .0625rem solid transparent;
}
.chip[data-level="high"] { background:#fee2e2; color:#991b1b; border-color:#fecaca; }
.chip[data-level="mid"]  { background:#e5e7eb; color:#111827; border-color:#d1d5db; }
.chip[data-level="low"]  { background:#dcfce7; color:#065f46; border-color:#bbf7d0; }
@media (prefers-color-scheme: dark){
  .chip[data-level="high"] { background:#7f1d1d; color:#fecaca; border-color:#991b1b; }
  .chip[data-level="mid"]  { background:#374151; color:#e5e7eb; border-color:#4b5563; }
  .chip[data-level="low"]  { background:#064e3b; color:#bbf7d0; border-color:#065f46; }
}

.chart-wrap{ margin:.75rem auto; max-width:35rem; height:clamp(12.5rem, 35vh, 22.5rem); }
.chart-canvas{ aspect-ratio:16/9; width:100%; }
.wiz-chart{ width:100%; aspect-ratio: 21/11; display:block; }
.tips { margin: .5rem 0 0; padding-inline-start: 1.125rem; }
.note { margin-top: .375rem; font-size: .75rem; color:#475569; }

@media (max-width: 62rem){
  .wiz-form { grid-template-columns: 1fr; }
  .wiz-results .cards { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 25.875rem) {
  .wiz-tabs { justify-content: center; }
  .wiz-tabs .tab { flex: 1 1 clamp(9rem, 45%, 14rem); min-height: 2.75rem; }
}

@media (max-width: 22.5rem) {
  .wiz-form,
  #wiz-form { padding-inline: 12px; }
  .wiz-form .form-row,
  .wiz-form .row { margin-inline: 0; flex-direction: column; align-items: stretch; }
  .wiz-form input,
  .wiz-form select,
  .wiz-form button { width: 100%; max-width: 100%; }
  .wiz-form .actions { width: 100%; }
}

/* footer placeholder to resolve 404/MIME issue */
footer{display:block}
.footer{width:100%;padding:12px 0}
/* Fix for horizontal scroll issues */

/* Prevent horizontal overflow on root elements */
html, body {
  overflow-x: hidden;
  max-width: 100%;
}

/* Ensure all direct children of body respect viewport boundaries */
body > * {
  max-width: 100%;
}

/* Fix for containers that might overflow */
.container,
.site-header__inner,
.hero,
.cards-section,
.wizard {
  max-width: 100%;
  overflow-x: hidden;
}

/* Ensure images and media don't cause overflow */
img, picture, video, canvas, svg {
  max-width: 100%;
  height: auto;
}

/* Fix for any elements using viewport width */
*[style*="100vw"] {
  max-width: 100% !important;
  width: 100% !important;
}

/* Fix for the hero section */
.hero {
  width: 100%;
  max-width: 100vw;
  overflow: hidden;
}

.hero-media,
.hero-img {
  width: 100%;
  max-width: 100%;
}

/* Fix for site header */
.site-header {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
}

.site-header__inner {
  max-width: 100%;
  box-sizing: border-box;
}

/* Ensure all sections respect viewport */
section {
  max-width: 100%;
  overflow-x: hidden;
}

/* Fix for cards section with negative margins */
.cards-section {
  max-width: min(61.25rem, calc(100% - 2rem));
  margin-inline: auto;
  overflow-x: visible; /* Allow shadow overflow but not content */
}

/* Fix for wizard form */
.wizard {
  max-width: min(61.25rem, calc(100% - 2rem));
  margin-inline: auto;
  box-sizing: border-box;
}

/* Ensure form elements don't overflow */
.wiz-form {
  max-width: 100%;
  box-sizing: border-box;
}

/* Fix for dialogs and modals */
.fixed {
  max-width: 100vw;
}

/* Fix for absolute positioned elements */
.absolute {
  max-width: 100%;
}

/* Responsive fix for small screens */
@media (max-width: 768px) {
  body, html {
    overflow-x: hidden !important;
  }

  * {
    max-width: 100%;
  }

  .hero,
  .hero-media,
  .site-header,
  section,
  main {
    width: 100% !important;
    max-width: 100% !important;
  }
}

/* Additional safety for RTL layouts */
html[dir="rtl"] body,
html[dir="rtl"] {
  overflow-x: hidden;
}
/* ========================================
   WESH360 Theme-Based Color Palette
   پالت رنگی تم‌دار برای بخش‌های مختلف سایت
   ======================================== */

/* ===== 1. Utility Theme Colors ===== */
:root {
  /* آب - Water Theme */
  --theme-water-primary: #007BFF;
  --theme-water-light: #4DA3FF;
  --theme-water-dark: #0056b3;
  --theme-water-bg: #E3F2FD;
  --theme-water-border: #90CAF9;

  /* برق - Electricity Theme */
  --theme-electricity-primary: #FFC107;
  --theme-electricity-light: #FFD54F;
  --theme-electricity-dark: #FFA000;
  --theme-electricity-bg: #FFF8E1;
  --theme-electricity-border: #FFE082;

  /* گاز - Gas Theme */
  --theme-gas-primary: #FF5722;
  --theme-gas-light: #FF8A65;
  --theme-gas-dark: #E64A19;
  --theme-gas-bg: #FBE9E7;
  --theme-gas-border: #FFAB91;

  /* محیط زیست - Environment Theme */
  --theme-environment-primary: #28A745;
  --theme-environment-light: #5CB85C;
  --theme-environment-dark: #218838;
  --theme-environment-bg: #E8F5E9;
  --theme-environment-border: #A5D6A7;

  /* خورشیدی - Solar Theme */
  --theme-solar-primary: #FF9800;
  --theme-solar-light: #FFB74D;
  --theme-solar-dark: #F57C00;
  --theme-solar-bg: #FFF3E0;
  --theme-solar-border: #FFCC80;

  /* عمومی - General Theme */
  --theme-general-primary: #6C757D;
  --theme-general-light: #ADB5BD;
  --theme-general-dark: #495057;
  --theme-general-bg: #F8F9FA;
  --theme-general-border: #DEE2E6;
}

/* ===== 2. Dark Theme Adjustments ===== */
[data-theme="dark"] {
  /* آب - Water Theme */
  --theme-water-primary: #2196F3;
  --theme-water-light: #64B5F6;
  --theme-water-dark: #1976D2;
  --theme-water-bg: #0D47A1;
  --theme-water-border: #1565C0;

  /* برق - Electricity Theme */
  --theme-electricity-primary: #FFB300;
  --theme-electricity-light: #FFD54F;
  --theme-electricity-dark: #FF8F00;
  --theme-electricity-bg: #FF6F00;
  --theme-electricity-border: #F57C00;

  /* گاز - Gas Theme */
  --theme-gas-primary: #FF6F00;
  --theme-gas-light: #FF8A65;
  --theme-gas-dark: #E64A19;
  --theme-gas-bg: #BF360C;
  --theme-gas-border: #D84315;

  /* محیط زیست - Environment Theme */
  --theme-environment-primary: #4CAF50;
  --theme-environment-light: #81C784;
  --theme-environment-dark: #388E3C;
  --theme-environment-bg: #1B5E20;
  --theme-environment-border: #2E7D32;

  /* خورشیدی - Solar Theme */
  --theme-solar-primary: #FFA726;
  --theme-solar-light: #FFB74D;
  --theme-solar-dark: #F57C00;
  --theme-solar-bg: #E65100;
  --theme-solar-border: #EF6C00;
}

/* ===== 3. Theme Section Styles ===== */

/* Water Section */
.water-section,
.section-water,
[data-theme-section="water"] {
  border-left: 4px solid var(--theme-water-primary);
  background: var(--theme-water-bg);
  border-color: var(--theme-water-border);
}

.water-card,
.card.water {
  border-color: var(--theme-water-border);
  background: var(--theme-water-bg);
}

.water-card:hover,
.card.water:hover {
  border-color: var(--theme-water-primary);
  box-shadow: 0 4px 12px rgba(0, 123, 255, 0.2);
}

.water-badge,
.badge-water {
  background: var(--theme-water-primary);
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-full, 9999px);
  font-size: 0.875rem;
  font-weight: 600;
}

/* Electricity Section */
.electricity-section,
.section-electricity,
[data-theme-section="electricity"] {
  border-left: 4px solid var(--theme-electricity-primary);
  background: var(--theme-electricity-bg);
  border-color: var(--theme-electricity-border);
}

.electricity-card,
.card.electricity {
  border-color: var(--theme-electricity-border);
  background: var(--theme-electricity-bg);
}

.electricity-card:hover,
.card.electricity:hover {
  border-color: var(--theme-electricity-primary);
  box-shadow: 0 4px 12px rgba(255, 193, 7, 0.2);
}

.electricity-badge,
.badge-electricity {
  background: var(--theme-electricity-primary);
  color: #000;
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-full, 9999px);
  font-size: 0.875rem;
  font-weight: 600;
}

/* Gas Section */
.gas-section,
.section-gas,
[data-theme-section="gas"] {
  border-left: 4px solid var(--theme-gas-primary);
  background: var(--theme-gas-bg);
  border-color: var(--theme-gas-border);
}

.gas-card,
.card.gas {
  border-color: var(--theme-gas-border);
  background: var(--theme-gas-bg);
}

.gas-card:hover,
.card.gas:hover {
  border-color: var(--theme-gas-primary);
  box-shadow: 0 4px 12px rgba(255, 87, 34, 0.2);
}

.gas-badge,
.badge-gas {
  background: var(--theme-gas-primary);
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-full, 9999px);
  font-size: 0.875rem;
  font-weight: 600;
}

/* Environment Section */
.environment-section,
.section-environment,
[data-theme-section="environment"] {
  border-left: 4px solid var(--theme-environment-primary);
  background: var(--theme-environment-bg);
  border-color: var(--theme-environment-border);
}

.environment-card,
.card.environment {
  border-color: var(--theme-environment-border);
  background: var(--theme-environment-bg);
}

.environment-card:hover,
.card.environment:hover {
  border-color: var(--theme-environment-primary);
  box-shadow: 0 4px 12px rgba(40, 167, 69, 0.2);
}

.environment-badge,
.badge-environment {
  background: var(--theme-environment-primary);
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-full, 9999px);
  font-size: 0.875rem;
  font-weight: 600;
}

/* Solar Section */
.solar-section,
.section-solar,
[data-theme-section="solar"] {
  border-left: 4px solid var(--theme-solar-primary);
  background: var(--theme-solar-bg);
  border-color: var(--theme-solar-border);
}

.solar-card,
.card.solar {
  border-color: var(--theme-solar-border);
  background: var(--theme-solar-bg);
}

.solar-card:hover,
.card.solar:hover {
  border-color: var(--theme-solar-primary);
  box-shadow: 0 4px 12px rgba(255, 152, 0, 0.2);
}

.solar-badge,
.badge-solar {
  background: var(--theme-solar-primary);
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-full, 9999px);
  font-size: 0.875rem;
  font-weight: 600;
}

/* ===== 4. Tab Styles with Theme Colors ===== */
.wiz-tabs button[data-utility="water"] {
  color: var(--theme-water-primary);
}

.wiz-tabs button[data-utility="water"][aria-selected="true"],
.wiz-tabs button[data-utility="water"]:hover {
  background: var(--theme-water-bg);
  border-color: var(--theme-water-primary);
  color: var(--theme-water-dark);
}

.wiz-tabs button[data-utility="electricity"] {
  color: var(--theme-electricity-dark);
}

.wiz-tabs button[data-utility="electricity"][aria-selected="true"],
.wiz-tabs button[data-utility="electricity"]:hover {
  background: var(--theme-electricity-bg);
  border-color: var(--theme-electricity-primary);
  color: var(--theme-electricity-dark);
}

.wiz-tabs button[data-utility="gas"] {
  color: var(--theme-gas-primary);
}

.wiz-tabs button[data-utility="gas"][aria-selected="true"],
.wiz-tabs button[data-utility="gas"]:hover {
  background: var(--theme-gas-bg);
  border-color: var(--theme-gas-primary);
  color: var(--theme-gas-dark);
}

/* ===== 5. Icon Colors (for Font Awesome) ===== */
.icon-water,
.fa-water,
.fa-tint,
.fa-droplet {
  color: var(--theme-water-primary);
}

.icon-electricity,
.fa-bolt,
.fa-plug,
.fa-flash {
  color: var(--theme-electricity-primary);
}

.icon-gas,
.fa-fire,
.fa-flame {
  color: var(--theme-gas-primary);
}

.icon-environment,
.fa-leaf,
.fa-tree,
.fa-seedling {
  color: var(--theme-environment-primary);
}

.icon-solar,
.fa-sun,
.fa-solar-panel {
  color: var(--theme-solar-primary);
}

/* ===== 6. Utility Classes ===== */

/* Text Colors */
.text-water { color: var(--theme-water-primary) !important; }
.text-electricity { color: var(--theme-electricity-primary) !important; }
.text-gas { color: var(--theme-gas-primary) !important; }
.text-environment { color: var(--theme-environment-primary) !important; }
.text-solar { color: var(--theme-solar-primary) !important; }

/* Background Colors */
.bg-water { background-color: var(--theme-water-bg) !important; }
.bg-electricity { background-color: var(--theme-electricity-bg) !important; }
.bg-gas { background-color: var(--theme-gas-bg) !important; }
.bg-environment { background-color: var(--theme-environment-bg) !important; }
.bg-solar { background-color: var(--theme-solar-bg) !important; }

/* Border Colors */
.border-water { border-color: var(--theme-water-border) !important; }
.border-electricity { border-color: var(--theme-electricity-border) !important; }
.border-gas { border-color: var(--theme-gas-border) !important; }
.border-environment { border-color: var(--theme-environment-border) !important; }
.border-solar { border-color: var(--theme-solar-border) !important; }

/* ===== 7. Responsive Design ===== */
@media (max-width: 768px) {
  .water-section,
  .electricity-section,
  .gas-section,
  .environment-section,
  .solar-section {
    border-left-width: 2px;
    padding: 1rem;
  }
}
/* ========================================
   Breadcrumb Navigation Component
   مولفه مسیریابی (Breadcrumb) برای ناوبری بهتر
   ======================================== */

/* ===== 1. Breadcrumb Container ===== */
.breadcrumb-nav {
  background: var(--color-bg-secondary, #ffffff);
  border-bottom: 1px solid var(--color-border, #e2e8f0);
  padding: 0.75rem 0;
  margin-bottom: 1.5rem;
}

.breadcrumb-nav[aria-label="breadcrumb"] {
  font-size: 0.875rem;
}

/* ===== 2. Breadcrumb List ===== */
.breadcrumb {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: 0.5rem;
}

/* ===== 3. Breadcrumb Items ===== */
.breadcrumb-item {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.breadcrumb-item a {
  color: var(--color-text-secondary, #64748b);
  text-decoration: none;
  transition: color 0.2s ease;
  padding: 0.25rem 0.5rem;
  border-radius: var(--radius-sm, 0.375rem);
}

.breadcrumb-item a:hover,
.breadcrumb-item a:focus {
  color: var(--color-accent-blue, #3b82f6);
  background: var(--color-bg-tertiary, #f8fafc);
  outline: none;
}

.breadcrumb-item.active {
  color: var(--color-text-primary, #1e293b);
  font-weight: 500;
}

/* ===== 4. Breadcrumb Separator ===== */
.breadcrumb-item + .breadcrumb-item::before {
  content: "/";
  color: var(--color-text-tertiary, #94a3b8);
  padding: 0 0.25rem;
  display: inline-block;
}

/* Alternative separator with icon */
.breadcrumb-item + .breadcrumb-item.with-icon::before {
  content: "›";
  font-size: 1.25rem;
  line-height: 1;
}

/* RTL Support */
[dir="rtl"] .breadcrumb-item + .breadcrumb-item::before {
  content: "/";
}

[dir="rtl"] .breadcrumb-item + .breadcrumb-item.with-icon::before {
  content: "‹";
}

/* ===== 5. Breadcrumb with Icons ===== */
.breadcrumb-item i,
.breadcrumb-item .icon {
  font-size: 1rem;
  margin-inline-end: 0.25rem;
}

.breadcrumb-item:first-child i.fa-home,
.breadcrumb-item:first-child .icon-home {
  color: var(--color-accent-blue, #3b82f6);
}

/* ===== 6. Themed Breadcrumbs ===== */
.breadcrumb-nav.water {
  border-bottom-color: var(--theme-water-border, #90CAF9);
  background: var(--theme-water-bg, #E3F2FD);
}

.breadcrumb-nav.water .breadcrumb-item a:hover {
  color: var(--theme-water-primary, #007BFF);
}

.breadcrumb-nav.electricity {
  border-bottom-color: var(--theme-electricity-border, #FFE082);
  background: var(--theme-electricity-bg, #FFF8E1);
}

.breadcrumb-nav.electricity .breadcrumb-item a:hover {
  color: var(--theme-electricity-primary, #FFC107);
}

.breadcrumb-nav.gas {
  border-bottom-color: var(--theme-gas-border, #FFAB91);
  background: var(--theme-gas-bg, #FBE9E7);
}

.breadcrumb-nav.gas .breadcrumb-item a:hover {
  color: var(--theme-gas-primary, #FF5722);
}

.breadcrumb-nav.environment {
  border-bottom-color: var(--theme-environment-border, #A5D6A7);
  background: var(--theme-environment-bg, #E8F5E9);
}

.breadcrumb-nav.environment .breadcrumb-item a:hover {
  color: var(--theme-environment-primary, #28A745);
}

/* ===== 7. Container Layout ===== */
.breadcrumb-container {
  max-width: min(1200px, calc(100% - 2rem));
  margin-inline: auto;
  padding-inline: 1rem;
}

/* ===== 8. Responsive Design ===== */
@media (max-width: 640px) {
  .breadcrumb {
    font-size: 0.8125rem;
  }

  .breadcrumb-item {
    gap: 0.25rem;
  }

  .breadcrumb-item + .breadcrumb-item::before {
    padding: 0 0.125rem;
  }

  /* Hide middle items on very small screens */
  .breadcrumb-item:not(:first-child):not(:last-child):not(.always-show) {
    display: none;
  }

  /* Show ellipsis */
  .breadcrumb-item:first-child::after {
    content: "...";
    color: var(--color-text-tertiary, #94a3b8);
    margin-inline-start: 0.5rem;
  }

  .breadcrumb-item:last-child {
    display: inline-flex;
  }
}

/* ===== 9. Dark Theme Support ===== */
[data-theme="dark"] .breadcrumb-nav {
  background: var(--color-bg-secondary, #1e293b);
  border-bottom-color: var(--color-border, #334155);
}

[data-theme="dark"] .breadcrumb-item a:hover,
[data-theme="dark"] .breadcrumb-item a:focus {
  background: var(--color-bg-tertiary, #334155);
}

/* ===== 10. Accessibility ===== */
.breadcrumb-nav[aria-label] {
  /* Already has aria-label for screen readers */
}

.breadcrumb-item.active {
  /* Current page is not a link */
  pointer-events: none;
}

/* Focus visible styles */
.breadcrumb-item a:focus-visible {
  outline: 2px solid var(--color-border-focus, #3b82f6);
  outline-offset: 2px;
}

/* ===== 11. Animation ===== */
.breadcrumb-item {
  animation: breadcrumb-fade-in 0.3s ease-out;
}

@keyframes breadcrumb-fade-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .breadcrumb-item {
    animation: none;
  }
}
/* ========================================
   WESH360 Icon System - SVG Icons
   ======================================== */

/* ===== 1. Icon Base Styles ===== */
.icon {
  display: inline-block;
  width: 1.5rem;
  height: 1.5rem;
  stroke-width: 2;
  stroke: currentColor;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Icon sizes */
.icon-sm {
  width: 1rem;
  height: 1rem;
}

.icon-md {
  width: 1.5rem;
  height: 1.5rem;
}

.icon-lg {
  width: 2rem;
  height: 2rem;
}

.icon-xl {
  width: 3rem;
  height: 3rem;
}

.icon-2xl {
  width: 4rem;
  height: 4rem;
}

/* ===== 2. Utility-specific Icon Styles ===== */

/* Water Icon */
.icon-water {
  color: #0077BE;
  fill: rgba(0, 119, 190, 0.1);
}

.icon-water:hover {
  color: #005A8F;
  fill: rgba(0, 119, 190, 0.2);
}

/* Electricity Icon */
.icon-electricity {
  color: #FDB913;
  fill: rgba(253, 185, 19, 0.1);
}

.icon-electricity:hover {
  color: #D49A0A;
  fill: rgba(253, 185, 19, 0.2);
}

/* Gas Icon */
.icon-gas {
  color: #FF6B35;
  fill: rgba(255, 107, 53, 0.1);
}

.icon-gas:hover {
  color: #E64F1F;
  fill: rgba(255, 107, 53, 0.2);
}

/* Environment Icon */
.icon-environment {
  color: #00A86B;
  fill: rgba(0, 168, 107, 0.1);
}

.icon-environment:hover {
  color: #008556;
  fill: rgba(0, 168, 107, 0.2);
}

/* ===== 3. Status Icons ===== */
.icon-status-normal {
  color: var(--color-success);
}

.icon-status-warning {
  color: var(--color-warning);
}

.icon-status-critical {
  color: var(--color-error);
}

/* ===== 4. Icon Animations ===== */
@keyframes icon-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

.icon-animated {
  animation: icon-pulse 2s ease-in-out infinite;
}

/* Icon bounce on hover */
.icon-bounce:hover {
  animation: bounce 0.5s ease-in-out;
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

/* Icon rotate */
.icon-rotate {
  transition: transform 0.3s ease;
}

.icon-rotate:hover {
  transform: rotate(15deg);
}

/* ===== 5. Icon Container for Cards ===== */
.icon-container {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 4rem;
  height: 4rem;
  border-radius: 1rem;
  background: var(--color-bg-elevated);
  box-shadow: var(--shadow-md);
  transition: all var(--transition-base);
}

.icon-container:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

/* Icon container variants */
.icon-container-water {
  background: linear-gradient(135deg, rgba(0, 119, 190, 0.1), rgba(0, 119, 190, 0.05));
  border: 2px solid rgba(0, 119, 190, 0.2);
}

.icon-container-electricity {
  background: linear-gradient(135deg, rgba(253, 185, 19, 0.1), rgba(253, 185, 19, 0.05));
  border: 2px solid rgba(253, 185, 19, 0.2);
}

.icon-container-gas {
  background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(255, 107, 53, 0.05));
  border: 2px solid rgba(255, 107, 53, 0.2);
}

.icon-container-environment {
  background: linear-gradient(135deg, rgba(0, 168, 107, 0.1), rgba(0, 168, 107, 0.05));
  border: 2px solid rgba(0, 168, 107, 0.2);
}

/* ===== 6. Dark Theme Support ===== */
[data-theme="dark"] .icon-container {
  background: rgba(255, 255, 255, 0.05);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .icon-container:hover {
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.5);
}

/* ===== 7. Accessibility ===== */
@media (prefers-reduced-motion: reduce) {
  .icon-animated,
  .icon-bounce,
  .icon-rotate {
    animation: none !important;
  }

  .icon-container {
    transition: none !important;
  }
}

/* ===== 8. Responsive Sizing ===== */
@media (max-width: 768px) {
  .icon-container {
    width: 3rem;
    height: 3rem;
  }

  .icon-xl {
    width: 2.5rem;
    height: 2.5rem;
  }
}
/* ========================================
   WESH360 Data Cards - Professional Components
   ======================================== */

/* ===== 1. Base Card Styles ===== */
.data-card {
  display: flex;
  flex-direction: column;
  background: var(--color-card-bg);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  box-shadow: var(--shadow-md);
  transition: all var(--transition-base);
  text-decoration: none;
  color: var(--color-text-primary);
  position: relative;
  overflow: hidden;
}

.data-card:hover {
  transform: translateY(-8px);
  box-shadow: var(--shadow-xl);
  border-color: var(--color-accent-blue);
}

.data-card:focus-visible {
  outline: 2px solid var(--color-border-focus);
  outline-offset: 4px;
}

/* ===== 2. Card Header ===== */
.data-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-4);
}

.data-card-icon-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 4rem;
  height: 4rem;
  border-radius: var(--radius-lg);
  transition: all var(--transition-base);
}

.data-card:hover .data-card-icon-wrapper {
  transform: scale(1.1) rotate(5deg);
}

/* Icon wrapper variants */
.data-card-icon-wrapper.water {
  background: linear-gradient(135deg, rgba(0, 119, 190, 0.15), rgba(0, 119, 190, 0.05));
  border: 2px solid rgba(0, 119, 190, 0.3);
}

.data-card-icon-wrapper.electricity {
  background: linear-gradient(135deg, rgba(253, 185, 19, 0.15), rgba(253, 185, 19, 0.05));
  border: 2px solid rgba(253, 185, 19, 0.3);
}

.data-card-icon-wrapper.gas {
  background: linear-gradient(135deg, rgba(255, 107, 53, 0.15), rgba(255, 107, 53, 0.05));
  border: 2px solid rgba(255, 107, 53, 0.3);
}

.data-card-icon-wrapper.environment {
  background: linear-gradient(135deg, rgba(0, 168, 107, 0.15), rgba(0, 168, 107, 0.05));
  border: 2px solid rgba(0, 168, 107, 0.3);
}

/* Badge */
.data-card-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.375rem 0.75rem;
  border-radius: var(--radius-full);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.025em;
}

.badge-public {
  background: var(--color-info-bg);
  color: var(--color-info);
  border: 1px solid var(--color-info-border);
}

.badge-internal {
  background: var(--color-warning-bg);
  color: var(--color-warning);
  border: 1px solid var(--color-warning-border);
}

.badge-soon {
  background: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

/* ===== 3. Card Body ===== */
.data-card-body {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.data-card-title {
  font-size: var(--font-h3);
  font-weight: 700;
  line-height: 1.3;
  margin: 0;
  color: var(--color-text-primary);
}

.data-card-description {
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-text-secondary);
  margin: 0;
}

/* Value display */
.data-card-value {
  display: flex;
  align-items: baseline;
  gap: 0.5rem;
  margin-top: var(--space-2);
}

.data-card-value .value {
  font-size: 2.5rem;
  font-weight: 800;
  line-height: 1;
  color: var(--color-text-primary);
}

.data-card-value .unit {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-secondary);
}

/* Trend indicator */
.data-card-trend {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.75rem;
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  font-weight: 600;
  margin-top: var(--space-2);
}

.data-card-trend.trend-up {
  background: var(--color-success-bg);
  color: var(--color-success);
}

.data-card-trend.trend-down {
  background: var(--color-error-bg);
  color: var(--color-error);
}

.data-card-trend.trend-neutral {
  background: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
}

/* ===== 4. Card Footer ===== */
.data-card-footer {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-border);
}

/* Sparkline container */
.data-card-sparkline {
  height: 60px;
  width: 100%;
  position: relative;
}

.data-card-sparkline canvas {
  max-height: 60px;
}

/* Stats row */
.data-card-stats {
  display: flex;
  gap: var(--space-4);
}

.data-card-stat {
  flex: 1;
}

.data-card-stat-label {
  font-size: 0.75rem;
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.25rem;
}

.data-card-stat-value {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--color-text-primary);
}

/* ===== 5. Action Button ===== */
.data-card-action {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border-radius: var(--radius-md);
  font-weight: 600;
  text-decoration: none;
  transition: all var(--transition-base);
  margin-top: var(--space-3);
}

.data-card-action-primary {
  background: var(--color-button-primary-bg);
  color: var(--color-button-primary-text);
}

.data-card-action-primary:hover {
  background: var(--color-button-primary-hover);
  transform: translateX(-2px);
}

.data-card-action-outline {
  background: transparent;
  color: var(--color-accent-blue);
  border: 2px solid var(--color-accent-blue);
}

.data-card-action-outline:hover {
  background: var(--color-accent-blue);
  color: white;
}

/* ===== 6. Loading State ===== */
.data-card.loading {
  pointer-events: none;
}

.data-card.loading .data-card-body {
  opacity: 0.5;
}

.data-card-skeleton {
  background: linear-gradient(
    90deg,
    var(--color-bg-tertiary) 0%,
    var(--color-bg-secondary) 20%,
    var(--color-bg-tertiary) 40%,
    var(--color-bg-tertiary) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-md);
  height: 1rem;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* ===== 7. Utility Variants ===== */
.data-card.water:hover {
  border-color: #0077BE;
  box-shadow: 0 10px 30px rgba(0, 119, 190, 0.2);
}

.data-card.electricity:hover {
  border-color: #FDB913;
  box-shadow: 0 10px 30px rgba(253, 185, 19, 0.2);
}

.data-card.gas:hover {
  border-color: #FF6B35;
  box-shadow: 0 10px 30px rgba(255, 107, 53, 0.2);
}

.data-card.environment:hover {
  border-color: #00A86B;
  box-shadow: 0 10px 30px rgba(0, 168, 107, 0.2);
}

/* ===== 8. Dark Theme Support ===== */
[data-theme="dark"] .data-card {
  background: var(--color-card-bg);
  border-color: var(--color-card-border);
}

[data-theme="dark"] .data-card:hover {
  background: rgba(255, 255, 255, 0.05);
  box-shadow: var(--shadow-xl);
}

/* ===== 9. Responsive Design ===== */
@media (max-width: 768px) {
  .data-card {
    padding: var(--space-5);
  }

  .data-card-icon-wrapper {
    width: 3rem;
    height: 3rem;
  }

  .data-card-value .value {
    font-size: 2rem;
  }

  .data-card-stats {
    flex-direction: column;
    gap: var(--space-2);
  }
}

/* ===== 10. Accessibility ===== */
@media (prefers-reduced-motion: reduce) {
  .data-card,
  .data-card-icon-wrapper,
  .data-card-action {
    transition: none !important;
    animation: none !important;
  }

  .data-card:hover {
    transform: none;
  }

  .data-card:hover .data-card-icon-wrapper {
    transform: none;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .data-card {
    border-width: 2px;
  }

  .data-card:hover {
    border-width: 3px;
  }
}
/* ========================================
   WESH360 Micro-interactions & Animations
   ======================================== */

/* ===== 1. Smooth Hover Effects ===== */

/* Cards lift on hover */
.card,
.data-card,
.dash-card {
  transition: transform var(--transition-base),
              box-shadow var(--transition-base),
              border-color var(--transition-base);
}

.card:hover,
.data-card:hover,
.dash-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

/* Buttons scale on hover */
.btn,
button:not(.nav-toggle) {
  transition: transform var(--transition-fast),
              background-color var(--transition-fast),
              box-shadow var(--transition-fast);
}

.btn:hover,
button:not(.nav-toggle):hover {
  transform: scale(1.05);
  box-shadow: var(--shadow-lg);
}

.btn:active,
button:not(.nav-toggle):active {
  transform: scale(0.98);
}

/* Links smooth color transition */
a {
  transition: color var(--transition-fast),
              opacity var(--transition-fast);
}

a:hover {
  opacity: 0.8;
}

/* ===== 2. Loading States ===== */

/* Pulse animation for loading */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.loading {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Skeleton loading */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-bg-tertiary) 0%,
    var(--color-bg-secondary) 20%,
    var(--color-bg-tertiary) 40%,
    var(--color-bg-tertiary) 100%
  );
  background-size: 1000px 100%;
  animation: shimmer 2s infinite linear;
  border-radius: var(--radius-md);
}

/* Spinner */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.spinner {
  display: inline-block;
  width: 1.5rem;
  height: 1.5rem;
  border: 3px solid var(--color-border);
  border-top-color: var(--color-accent-blue);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

/* ===== 3. Fade In Animations ===== */

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.6s ease-out;
}

.fade-in-delay-1 {
  animation: fadeIn 0.6s ease-out 0.1s backwards;
}

.fade-in-delay-2 {
  animation: fadeIn 0.6s ease-out 0.2s backwards;
}

.fade-in-delay-3 {
  animation: fadeIn 0.6s ease-out 0.3s backwards;
}

/* ===== 4. Slide Animations ===== */

@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInFromLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.slide-in-right {
  animation: slideInFromRight 0.5s ease-out;
}

.slide-in-left {
  animation: slideInFromLeft 0.5s ease-out;
}

/* ===== 5. Bounce Effect ===== */

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.bounce-on-hover:hover {
  animation: bounce 0.5s ease-in-out;
}

/* ===== 6. Glow Effect ===== */

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px currentColor;
  }
  50% {
    box-shadow: 0 0 20px currentColor, 0 0 30px currentColor;
  }
}

.glow {
  animation: glow 2s ease-in-out infinite;
}

/* ===== 7. Ripple Effect (CSP-compliant) ===== */

.ripple {
  position: relative;
  overflow: hidden;
}

/* Ripple effect element created by JavaScript - centered */
.ripple-effect {
  position: absolute;
  top: 50%;
  left: 50%;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  width: 100px;
  height: 100px;
  pointer-events: none;
  transform: translate(-50%, -50%) scale(0);
  transition: transform 0.6s ease-out, opacity 0.6s ease-out;
  opacity: 1;
}

/* Active state triggers animation */
.ripple-effect.ripple-active {
  transform: translate(-50%, -50%) scale(4);
  opacity: 0;
}

/* Fallback for ::after pseudo-element */
.ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.ripple:active::after {
  width: 300px;
  height: 300px;
}

/* ===== 8. Focus States ===== */

/* Better focus indicators */
*:focus-visible {
  outline: 2px solid var(--color-border-focus);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Focus ring with animation */
@keyframes focusRing {
  0% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
  }
  100% {
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0);
  }
}

.focus-ring:focus-visible {
  animation: focusRing 0.5s ease-out;
}

/* ===== 9. Number Counter Animation ===== */

.counter {
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes countUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.count-up {
  animation: countUp 0.8s ease-out;
}

/* ===== 10. Tooltip Animations ===== */

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

[data-tooltip] {
  position: relative;
  cursor: help;
}

[data-tooltip]::before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-8px);
  padding: 0.5rem 0.75rem;
  background: var(--color-text-primary);
  color: var(--color-text-inverse);
  font-size: 0.875rem;
  border-radius: var(--radius-md);
  white-space: nowrap;
  pointer-events: none;
  opacity: 0;
  transition: opacity var(--transition-base);
  z-index: 1000;
}

[data-tooltip]:hover::before {
  opacity: 1;
  animation: tooltipFadeIn 0.3s ease-out;
}

/* ===== 11. Progress Bars (CSP-compliant) ===== */

.progress-bar {
  position: relative;
  height: 0.5rem;
  background: var(--color-bg-tertiary);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-accent-blue), var(--color-accent-purple));
  border-radius: var(--radius-full);
  width: 0%;
  transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Data-driven width via attributes */
.progress-bar-fill[data-animated="true"][data-width="0"] { width: 0%; }
.progress-bar-fill[data-animated="true"][data-width="10"] { width: 10%; }
.progress-bar-fill[data-animated="true"][data-width="20"] { width: 20%; }
.progress-bar-fill[data-animated="true"][data-width="25"] { width: 25%; }
.progress-bar-fill[data-animated="true"][data-width="30"] { width: 30%; }
.progress-bar-fill[data-animated="true"][data-width="40"] { width: 40%; }
.progress-bar-fill[data-animated="true"][data-width="50"] { width: 50%; }
.progress-bar-fill[data-animated="true"][data-width="60"] { width: 60%; }
.progress-bar-fill[data-animated="true"][data-width="65"] { width: 65%; }
.progress-bar-fill[data-animated="true"][data-width="70"] { width: 70%; }
.progress-bar-fill[data-animated="true"][data-width="75"] { width: 75%; }
.progress-bar-fill[data-animated="true"][data-width="80"] { width: 80%; }
.progress-bar-fill[data-animated="true"][data-width="90"] { width: 90%; }
.progress-bar-fill[data-animated="true"][data-width="100"] { width: 100%; }

@keyframes progressShine {
  0% {
    background-position: -100% 0;
  }
  100% {
    background-position: 100% 0;
  }
}

.progress-bar-fill.animated {
  background-size: 200% 100%;
  animation: progressShine 2s infinite;
}

/* ===== 12. Badge Pulse ===== */

@keyframes badgePulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

.badge-pulse {
  animation: badgePulse 1.5s ease-in-out infinite;
}

/* ===== 13. Shake Effect (for errors) ===== */

@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-5px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(5px);
  }
}

.shake {
  animation: shake 0.5s ease-in-out;
}

/* ===== 14. Success Checkmark ===== */

@keyframes checkmark {
  0% {
    transform: scale(0) rotate(45deg);
  }
  50% {
    transform: scale(1.2) rotate(45deg);
  }
  100% {
    transform: scale(1) rotate(45deg);
  }
}

.checkmark {
  animation: checkmark 0.5s ease-out;
}

/* ===== 15. Stagger Animation for Lists ===== */

/* Using data-stagger-index for CSP compliance */
.stagger-item[data-stagger-index="0"] { animation-delay: 0.05s; }
.stagger-item[data-stagger-index="1"] { animation-delay: 0.1s; }
.stagger-item[data-stagger-index="2"] { animation-delay: 0.15s; }
.stagger-item[data-stagger-index="3"] { animation-delay: 0.2s; }
.stagger-item[data-stagger-index="4"] { animation-delay: 0.25s; }
.stagger-item[data-stagger-index="5"] { animation-delay: 0.3s; }
.stagger-item[data-stagger-index="6"] { animation-delay: 0.35s; }
.stagger-item[data-stagger-index="7"] { animation-delay: 0.4s; }
.stagger-item[data-stagger-index="8"] { animation-delay: 0.45s; }
.stagger-item[data-stagger-index="9"] { animation-delay: 0.5s; }

/* Fallback for nth-child (for static content) */
.stagger-item:nth-child(1) { animation-delay: 0.05s; }
.stagger-item:nth-child(2) { animation-delay: 0.1s; }
.stagger-item:nth-child(3) { animation-delay: 0.15s; }
.stagger-item:nth-child(4) { animation-delay: 0.2s; }
.stagger-item:nth-child(5) { animation-delay: 0.25s; }
.stagger-item:nth-child(6) { animation-delay: 0.3s; }
.stagger-item:nth-child(7) { animation-delay: 0.35s; }
.stagger-item:nth-child(8) { animation-delay: 0.4s; }

/* ===== 16. Smooth Scroll ===== */

html {
  scroll-behavior: smooth;
}

/* ===== 17. Accessibility - Reduced Motion ===== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .card:hover,
  .data-card:hover,
  .dash-card:hover {
    transform: none;
  }

  .btn:hover,
  button:hover {
    transform: none;
  }
}

/* ===== 18. Page Transition (for SPAs) ===== */

@keyframes pageTransition {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.page-transition {
  animation: pageTransition 0.5s ease-out;
}
/**
 * Loading States & Skeleton Screens System
 * پیاده‌سازی سیستم جامع Loading States برای بهبود تجربه کاربری
 */

/* ======================
   1. Skeleton Base Styles
   ====================== */

.skeleton {
  background: linear-gradient(90deg,
    #f0f0f0 0%,
    #f0f0f0 40%,
    #e0e0e0 50%,
    #e0e0e0 55%,
    #f0f0f0 65%,
    #f0f0f0 100%
  );
  background-size: 400% 100%;
  animation: skeleton-loading 1.8s ease-in-out infinite;
  border-radius: 4px;
  position: relative;
  overflow: hidden;
}

@keyframes skeleton-loading {
  0% {
    background-position: 100% 0;
  }
  100% {
    background-position: -100% 0;
  }
}

/* ======================
   2. Skeleton Components
   ====================== */

/* Skeleton Line */
.skeleton-line {
  height: 16px;
  margin-bottom: 12px;
  border-radius: 4px;
}

.skeleton-line--short {
  width: 60%;
}

.skeleton-line--medium {
  width: 80%;
}

.skeleton-line--long {
  width: 100%;
}

/* Skeleton Header */
.skeleton-header {
  height: 32px;
  width: 50%;
  margin-bottom: 20px;
  border-radius: 6px;
}

/* Skeleton Card */
.skeleton-card {
  padding: 20px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  margin-bottom: 16px;
}

/* Skeleton Circle (for avatars/icons) */
.skeleton-circle {
  width: 48px;
  height: 48px;
  border-radius: 50%;
}

/* Skeleton Rectangle */
.skeleton-rect {
  height: 200px;
  border-radius: 8px;
}

/* ======================
   3. Loading Overlay System
   ====================== */

.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(8px);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.3s ease-out;
}

.loading-overlay.fade-out {
  opacity: 0;
  pointer-events: none;
}

.loading-overlay__content {
  text-align: center;
  max-width: 400px;
  padding: 0 20px;
}

/* ======================
   4. Spinner Animations
   ====================== */

/* Modern Spinner */
.spinner {
  width: 48px;
  height: 48px;
  border: 4px solid #f3f4f6;
  border-top-color: #0ea5e9;
  border-radius: 50%;
  animation: spinner-rotate 0.8s linear infinite;
  margin: 0 auto 24px;
}

@keyframes spinner-rotate {
  to {
    transform: rotate(360deg);
  }
}

/* Dots Spinner */
.spinner-dots {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin: 0 auto 24px;
}

.spinner-dots__dot {
  width: 12px;
  height: 12px;
  background: #0ea5e9;
  border-radius: 50%;
  animation: spinner-dots-bounce 1.4s infinite ease-in-out both;
}

.spinner-dots__dot:nth-child(1) {
  animation-delay: -0.32s;
}

.spinner-dots__dot:nth-child(2) {
  animation-delay: -0.16s;
}

@keyframes spinner-dots-bounce {
  0%, 80%, 100% {
    transform: scale(0.6);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Wave Spinner */
.spinner-wave {
  display: flex;
  gap: 4px;
  justify-content: center;
  margin: 0 auto 24px;
}

.spinner-wave__bar {
  width: 6px;
  height: 40px;
  background: #0ea5e9;
  border-radius: 3px;
  animation: spinner-wave 1.2s ease-in-out infinite;
}

.spinner-wave__bar:nth-child(1) { animation-delay: 0s; }
.spinner-wave__bar:nth-child(2) { animation-delay: 0.1s; }
.spinner-wave__bar:nth-child(3) { animation-delay: 0.2s; }
.spinner-wave__bar:nth-child(4) { animation-delay: 0.3s; }
.spinner-wave__bar:nth-child(5) { animation-delay: 0.4s; }

@keyframes spinner-wave {
  0%, 40%, 100% {
    transform: scaleY(0.4);
  }
  20% {
    transform: scaleY(1);
  }
}

/* ======================
   5. Loading Messages
   ====================== */

.loading-message {
  font-size: 18px;
  font-weight: 600;
  color: #1e293b;
  margin-bottom: 12px;
  animation: fade-in 0.3s ease-in;
}

.loading-submessage {
  font-size: 14px;
  color: #64748b;
  line-height: 1.6;
  animation: fade-in 0.3s ease-in 0.1s both;
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ======================
   6. Progress Indicators
   ====================== */

.loading-progress {
  width: 280px;
  height: 4px;
  background: #e2e8f0;
  border-radius: 2px;
  overflow: hidden;
  margin: 20px auto 0;
}

.loading-progress__bar {
  height: 100%;
  background: linear-gradient(90deg, #0ea5e9, #06b6d4);
  border-radius: 2px;
  animation: progress-loading 2s ease-in-out infinite;
}

@keyframes progress-loading {
  0% {
    width: 0%;
    margin-left: 0%;
  }
  50% {
    width: 70%;
    margin-left: 15%;
  }
  100% {
    width: 0%;
    margin-left: 100%;
  }
}

/* Determinate Progress */
.loading-progress__bar--determinate {
  animation: none;
  transition: width 0.3s ease-out;
}

/* ======================
   7. Component-Level Skeletons
   ====================== */

/* CLD Diagram Skeleton */
.skeleton-cld-diagram {
  width: 100%;
  min-height: 500px;
  background: linear-gradient(90deg, #f8fafc 0%, #f1f5f9 50%, #f8fafc 100%);
  background-size: 400% 100%;
  animation: skeleton-loading 2s ease-in-out infinite;
  border-radius: 12px;
  border: 2px dashed #cbd5e1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.skeleton-cld-diagram__content {
  text-align: center;
  color: #94a3b8;
}

/* Chart Skeleton */
.skeleton-chart {
  width: 100%;
  height: 300px;
  position: relative;
  background: #f8fafc;
  border-radius: 8px;
  overflow: hidden;
}

.skeleton-chart__bars {
  display: flex;
  align-items: flex-end;
  justify-content: space-around;
  height: 100%;
  padding: 20px;
}

.skeleton-chart__bar {
  width: 40px;
  background: linear-gradient(180deg, #e2e8f0, #cbd5e1);
  border-radius: 4px 4px 0 0;
  animation: skeleton-loading 1.8s ease-in-out infinite;
}

.skeleton-chart__bar:nth-child(1) { height: 60%; animation-delay: 0s; }
.skeleton-chart__bar:nth-child(2) { height: 85%; animation-delay: 0.2s; }
.skeleton-chart__bar:nth-child(3) { height: 70%; animation-delay: 0.4s; }
.skeleton-chart__bar:nth-child(4) { height: 95%; animation-delay: 0.6s; }
.skeleton-chart__bar:nth-child(5) { height: 55%; animation-delay: 0.8s; }

/* Table Skeleton */
.skeleton-table {
  width: 100%;
  border-collapse: collapse;
}

.skeleton-table__row {
  border-bottom: 1px solid #e2e8f0;
}

.skeleton-table__cell {
  padding: 12px;
}

.skeleton-table__cell-content {
  height: 14px;
  background: linear-gradient(90deg, #f0f0f0 40%, #e0e0e0 50%, #f0f0f0 60%);
  background-size: 400% 100%;
  animation: skeleton-loading 1.8s ease-in-out infinite;
  border-radius: 4px;
}

/* ======================
   8. Utility Classes
   ====================== */

.loading-hide {
  display: none !important;
}

.loading-blur {
  filter: blur(4px);
  pointer-events: none;
  user-select: none;
}

/* Pulse Animation for Icons */
.loading-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* ======================
   9. Responsive Design
   ====================== */

@media (max-width: 768px) {
  .loading-overlay__content {
    padding: 0 16px;
  }

  .loading-message {
    font-size: 16px;
  }

  .loading-submessage {
    font-size: 13px;
  }

  .spinner {
    width: 40px;
    height: 40px;
  }

  .loading-progress {
    width: 240px;
  }
}

/* ======================
   10. Dark Mode Support
   ====================== */

@media (prefers-color-scheme: dark) {
  .skeleton {
    background: linear-gradient(90deg,
      #1e293b 0%,
      #1e293b 40%,
      #334155 50%,
      #334155 55%,
      #1e293b 65%,
      #1e293b 100%
    );
  }

  .loading-overlay {
    background: rgba(15, 23, 42, 0.95);
  }

  .skeleton-card {
    background: #1e293b;
  }

  .loading-message {
    color: #f1f5f9;
  }

  .loading-submessage {
    color: #94a3b8;
  }

  .skeleton-cld-diagram {
    background: linear-gradient(90deg, #1e293b 0%, #334155 50%, #1e293b 100%);
    border-color: #475569;
  }

  .skeleton-cld-diagram__content {
    color: #64748b;
  }
}

/* ======================
   11. Accessibility
   ====================== */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .skeleton,
  .spinner,
  .spinner-dots__dot,
  .spinner-wave__bar,
  .loading-progress__bar {
    animation-duration: 3s;
  }

  .loading-message,
  .loading-submessage {
    animation: none;
  }
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
